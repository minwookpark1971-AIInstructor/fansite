<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 페이지 | Antigravity</title>
    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <!-- Stars Background -->
    <div id="stars-container"></div>

    <!-- Toast 알림 컨테이너 -->
    <div class="admin-toast-container" id="toast-container"></div>

    <!-- 사이드바 -->
    <aside class="admin-sidebar" id="admin-sidebar">
        <div class="admin-sidebar-header">
            <h2><i class="fas fa-cog"></i> 관리자</h2>
        </div>
        <nav>
            <ul class="admin-menu">
                <li class="admin-menu-item">
                    <a href="#dashboard" class="admin-menu-link active" data-section="dashboard">
                        <i class="fas fa-chart-line"></i>
                        <span>대시보드</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#products" class="admin-menu-link" data-section="products">
                        <i class="fas fa-shopping-bag"></i>
                        <span>상품 관리</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#orders" class="admin-menu-link" data-section="orders">
                        <i class="fas fa-receipt"></i>
                        <span>주문 관리</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#categories" class="admin-menu-link" data-section="categories">
                        <i class="fas fa-tags"></i>
                        <span>카테고리 관리</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#reviews" class="admin-menu-link" data-section="reviews">
                        <i class="fas fa-star"></i>
                        <span>리뷰/평점</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#banners" class="admin-menu-link" data-section="banners">
                        <i class="fas fa-images"></i>
                        <span>배너 관리</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#videos-admin" class="admin-menu-link" data-section="videos-admin">
                        <i class="fas fa-video"></i>
                        <span>영상 등록</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#music-admin" class="admin-menu-link" data-section="music-admin">
                        <i class="fas fa-music"></i>
                        <span>음원 등록</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#posts-admin" class="admin-menu-link" data-section="posts-admin">
                        <i class="fas fa-comments"></i>
                        <span>응원 메시지 관리</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#members" class="admin-menu-link" data-section="members">
                        <i class="fas fa-users"></i>
                        <span>회원 관리</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#statistics" class="admin-menu-link" data-section="statistics">
                        <i class="fas fa-chart-bar"></i>
                        <span>통계</span>
                    </a>
                </li>
                <li class="admin-menu-item">
                    <a href="#content" class="admin-menu-link" data-section="content">
                        <i class="fas fa-cog"></i>
                        <span>콘텐츠 관리 (통합)</span>
                    </a>
                </li>
            </ul>
        </nav>
        <div style="padding: 20px; border-top: 1px solid var(--glass-border); margin-top: auto;">
            <a href="index.html" class="back-link" style="display: block; text-align: center;">
                <i class="fas fa-arrow-left"></i> 메인 페이지로
            </a>
        </div>
    </aside>

    <!-- 메인 콘텐츠 영역 -->
    <main class="admin-main" id="admin-main">
        <!-- 상단 바 -->
        <div class="admin-topbar">
            <div class="admin-topbar-left">
                <button class="admin-toggle-sidebar" id="toggle-sidebar">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 style="margin: 0; font-size: 1.5rem;" id="page-title">대시보드</h1>
            </div>
            <div>
                <span style="color: var(--text-muted); margin-right: 15px;" id="current-time"></span>
                <button class="btn-primary btn-small" id="btn-save-all">
                    <i class="fas fa-save"></i> 저장
                </button>
            </div>
        </div>

        <!-- 대시보드 섹션 -->
        <section id="section-dashboard" class="admin-section-content active">
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <div class="dashboard-card-header">
                        <span class="dashboard-card-title">오늘의 주문</span>
                        <div class="dashboard-card-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                    </div>
                    <div class="dashboard-card-value" id="dashboard-today-orders">0</div>
                    <div class="dashboard-card-change" id="dashboard-orders-change">-</div>
                </div>
                <div class="dashboard-card">
                    <div class="dashboard-card-header">
                        <span class="dashboard-card-title">오늘의 매출</span>
                        <div class="dashboard-card-icon">
                            <i class="fas fa-won-sign"></i>
                        </div>
                    </div>
                    <div class="dashboard-card-value" id="dashboard-today-revenue">0원</div>
                    <div class="dashboard-card-change" id="dashboard-revenue-change">-</div>
                </div>
                <div class="dashboard-card">
                    <div class="dashboard-card-header">
                        <span class="dashboard-card-title">미처리 주문</span>
                        <div class="dashboard-card-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                    </div>
                    <div class="dashboard-card-value" id="dashboard-pending-orders">0</div>
                    <div class="dashboard-card-change">즉시 처리 필요</div>
                </div>
                <div class="dashboard-card">
                    <div class="dashboard-card-header">
                        <span class="dashboard-card-title">재고 부족 상품</span>
                        <div class="dashboard-card-icon">
                            <i class="fas fa-box"></i>
                        </div>
                    </div>
                    <div class="dashboard-card-value" id="dashboard-low-stock">0</div>
                    <div class="dashboard-card-change negative">5개 이하</div>
                </div>
                <div class="dashboard-card">
                    <div class="dashboard-card-header">
                        <span class="dashboard-card-title">신규 회원</span>
                        <div class="dashboard-card-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                    </div>
                    <div class="dashboard-card-value" id="dashboard-new-members">0</div>
                    <div class="dashboard-card-change">오늘 가입</div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 20px;">
                <div class="dashboard-card">
                    <div class="dashboard-card-header">
                        <span class="dashboard-card-title">누적 방문자수</span>
                        <div class="dashboard-card-icon">
                            <i class="fas fa-users"></i>
                        </div>
                    </div>
                    <div class="dashboard-card-value" id="dashboard-total-visitors">0</div>
                    <div class="dashboard-card-change">전체 방문자</div>
                </div>
                <div class="dashboard-card">
                    <div class="dashboard-card-header">
                        <span class="dashboard-card-title">신규 회원 증가수</span>
                        <div class="dashboard-card-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                    </div>
                    <div class="dashboard-card-value" id="dashboard-new-members-growth">0</div>
                    <div class="dashboard-card-change" id="dashboard-members-growth-change">이번 달</div>
                </div>
                <div class="dashboard-card">
                    <div class="dashboard-card-header">
                        <span class="dashboard-card-title">유튜브 플레이수</span>
                        <div class="dashboard-card-icon">
                            <i class="fab fa-youtube"></i>
                        </div>
                    </div>
                    <div class="dashboard-card-value" id="dashboard-youtube-plays">0</div>
                    <div class="dashboard-card-change">전체 재생</div>
                </div>
                <div class="dashboard-card">
                    <div class="dashboard-card-header">
                        <span class="dashboard-card-title">음원 다운로드수</span>
                        <div class="dashboard-card-icon">
                            <i class="fas fa-download"></i>
                        </div>
                    </div>
                    <div class="dashboard-card-value" id="dashboard-music-downloads">0</div>
                    <div class="dashboard-card-change">전체 다운로드</div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="admin-table-wrapper">
                    <h3 style="margin-bottom: 15px;">최근 주문</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>주문번호</th>
                                <th>구매자</th>
                                <th>금액</th>
                                <th>상태</th>
                                <th>작업</th>
                            </tr>
                        </thead>
                        <tbody id="dashboard-recent-orders">
                            <!-- 최근 주문 목록 -->
                        </tbody>
                    </table>
                </div>
                <div class="admin-table-wrapper">
                    <h3 style="margin-bottom: 15px;">재고 부족 상품</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>상품명</th>
                                <th>재고</th>
                                <th>카테고리</th>
                                <th>작업</th>
                            </tr>
                        </thead>
                        <tbody id="dashboard-low-stock-products">
                            <!-- 재고 부족 상품 목록 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- 상품 관리 섹션 -->
        <section id="section-products" class="admin-section-content">
            <div class="admin-table-wrapper">
                <div class="admin-toolbar">
                    <input type="text" class="admin-search" id="product-search" placeholder="상품명, 카테고리로 검색...">
                    <select class="admin-filter" id="product-category-filter">
                        <option value="all">전체 카테고리</option>
                    </select>
                    <select class="admin-filter" id="product-stock-filter">
                        <option value="all">전체 재고</option>
                        <option value="in-stock">재고 있음</option>
                        <option value="low-stock">재고 부족 (5개 이하)</option>
                        <option value="out-of-stock">품절</option>
                    </select>
                    <button class="btn-primary" id="btn-add-product-modal">
                        <i class="fas fa-plus"></i> 상품 추가
                    </button>
                    <button class="btn-danger btn-small" id="btn-bulk-delete-products" style="display: none;">
                        <i class="fas fa-trash"></i> 선택 삭제
                    </button>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th style="width: 50px;">
                                <input type="checkbox" class="admin-checkbox" id="select-all-products">
                            </th>
                            <th class="sortable" data-sort="image">이미지</th>
                            <th class="sortable" data-sort="name">상품명</th>
                            <th class="sortable" data-sort="category">카테고리</th>
                            <th class="sortable" data-sort="price">가격</th>
                            <th class="sortable" data-sort="stock">재고</th>
                            <th class="sortable" data-sort="rating">평점</th>
                            <th class="sortable" data-sort="date">등록일</th>
                            <th>상태</th>
                            <th>작업</th>
                        </tr>
                    </thead>
                    <tbody id="product-table-body">
                        <!-- 상품 목록이 여기에 표시됨 -->
                    </tbody>
                </table>
                <div class="admin-pagination" id="product-pagination"></div>
            </div>
        </section>

        <!-- 주문 관리 섹션 -->
        <section id="section-orders" class="admin-section-content">
            <div class="admin-table-wrapper">
                <div class="admin-toolbar">
                    <input type="text" class="admin-search" id="order-search" placeholder="주문번호, 구매자로 검색...">
                    <select class="admin-filter" id="order-status-filter">
                        <option value="all">전체 상태</option>
                        <option value="PENDING">결제 대기</option>
                        <option value="PAID">결제 완료</option>
                        <option value="PREPARING">배송 준비</option>
                        <option value="SHIPPING">배송 중</option>
                        <option value="DELIVERED">배송 완료</option>
                        <option value="CANCELLED">주문 취소</option>
                    </select>
                    <input type="date" class="admin-filter" id="order-date-from" style="max-width: 150px;">
                    <input type="date" class="admin-filter" id="order-date-to" style="max-width: 150px;">
                    <button class="btn-primary btn-small" id="btn-export-orders">
                        <i class="fas fa-file-excel"></i> 엑셀 다운로드
                    </button>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th class="sortable" data-sort="id">주문번호</th>
                            <th class="sortable" data-sort="date">주문일시</th>
                            <th>구매자</th>
                            <th>상품명</th>
                            <th>수량</th>
                            <th class="sortable" data-sort="total">총액</th>
                            <th>주문상태</th>
                            <th>송장번호</th>
                            <th>작업</th>
                        </tr>
                    </thead>
                    <tbody id="order-table-body">
                        <!-- 주문 목록이 여기에 표시됨 -->
                    </tbody>
                </table>
                <div class="admin-pagination" id="order-pagination"></div>
            </div>
        </section>

        <!-- 카테고리 관리 섹션 -->
        <section id="section-categories" class="admin-section-content">
            <div class="admin-table-wrapper">
                <div class="admin-toolbar">
                    <button class="btn-primary" id="btn-add-category">
                        <i class="fas fa-plus"></i> 카테고리 추가
                    </button>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>순서</th>
                            <th>카테고리명</th>
                            <th>상품 수</th>
                            <th>총 매출</th>
                            <th>작업</th>
                        </tr>
                    </thead>
                    <tbody id="category-table-body">
                        <!-- 카테고리 목록이 여기에 표시됨 -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 리뷰/평점 관리 섹션 -->
        <section id="section-reviews" class="admin-section-content">
            <div class="admin-table-wrapper">
                <div class="admin-toolbar">
                    <input type="text" class="admin-search" id="review-search" placeholder="상품명, 작성자로 검색...">
                    <select class="admin-filter" id="review-rating-filter">
                        <option value="all">전체 평점</option>
                        <option value="5">5점</option>
                        <option value="4">4점</option>
                        <option value="3">3점</option>
                        <option value="2">2점</option>
                        <option value="1">1점</option>
                    </select>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>상품명</th>
                            <th>작성자</th>
                            <th>평점</th>
                            <th>내용</th>
                            <th>작성일</th>
                            <th>상태</th>
                            <th>작업</th>
                        </tr>
                    </thead>
                    <tbody id="review-table-body">
                        <!-- 리뷰 목록이 여기에 표시됨 -->
                    </tbody>
                </table>
                <div class="admin-pagination" id="review-pagination"></div>
            </div>
        </section>

        <!-- 배너 관리 섹션 -->
        <section id="section-banners" class="admin-section-content">
            <div class="admin-section glass-card">
                <h2><i class="fas fa-images"></i> 메인 배너 이미지 관리</h2>
                <p style="color: var(--text-muted); margin-bottom: 20px;">
                    최소 3개 이상 등록하시면 등록된 이미지만 표시됩니다. 3개 미만이면 기본 이미지로 자동 보완됩니다. (최대 10개)
                </p>
                <div class="admin-form">
                    <div style="margin-bottom: 20px;">
                        <input type="file" id="admin-img-input" accept="image/jpeg,image/png,image/jpg" style="margin-bottom: 10px;">
                        <div>
                            <button class="btn-primary" id="btn-upload-image">이미지 추가</button>
                            <button class="btn-danger btn-small" id="btn-clear-all-images">전체 삭제</button>
                        </div>
                    </div>
                    <div id="banner-images-list" style="margin-top: 20px;">
                        <!-- 등록된 이미지 목록이 여기에 표시됨 -->
                    </div>
                </div>
            </div>
        </section>

        <!-- 회원 관리 섹션 -->
        <section id="section-members" class="admin-section-content">
            <div class="admin-table-wrapper">
                <div class="admin-toolbar">
                    <input type="text" class="admin-search" id="member-search" placeholder="이메일 또는 닉네임으로 검색...">
                    <select class="admin-filter" id="member-status-filter">
                        <option value="all">전체 상태</option>
                        <option value="active">정상</option>
                        <option value="suspended">정지</option>
                        <option value="withdrawn">탈퇴</option>
                    </select>
                    <select class="admin-filter" id="member-grade-filter">
                        <option value="all">전체 등급</option>
                        <option value="normal">일반</option>
                        <option value="premium">우수회원</option>
                        <option value="vip">VIP</option>
                    </select>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th class="sortable" data-sort="nickname">닉네임</th>
                            <th class="sortable" data-sort="email">이메일</th>
                            <th>국가</th>
                            <th class="sortable" data-sort="date">가입일</th>
                            <th class="sortable" data-sort="orders">주문횟수</th>
                            <th class="sortable" data-sort="total">총구매액</th>
                            <th>회원등급</th>
                            <th>상태</th>
                            <th>작업</th>
                        </tr>
                    </thead>
                    <tbody id="member-table-body">
                        <!-- 회원 목록이 여기에 표시됨 -->
                    </tbody>
                </table>
                <div class="admin-pagination" id="member-pagination"></div>
            </div>
        </section>

        <!-- 통계 섹션 -->
        <section id="section-statistics" class="admin-section-content">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div class="chart-container">
                    <h3 class="chart-title">기간별 매출 통계</h3>
                    <div style="margin-bottom: 15px;">
                        <select class="admin-filter" id="stat-period">
                            <option value="daily">일별</option>
                            <option value="weekly">주별</option>
                            <option value="monthly">월별</option>
                        </select>
                        <input type="date" class="admin-filter" id="stat-date-from" style="max-width: 150px; margin-left: 10px;">
                        <input type="date" class="admin-filter" id="stat-date-to" style="max-width: 150px; margin-left: 10px;">
                    </div>
                    <canvas id="sales-chart"></canvas>
                </div>
                <div class="chart-container">
                    <h3 class="chart-title">카테고리별 매출 비율</h3>
                    <canvas id="category-sales-chart"></canvas>
                </div>
            </div>
            <div class="admin-table-wrapper">
                <h3 style="margin-bottom: 15px;">인기 상품 TOP 10</h3>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>순위</th>
                            <th>상품명</th>
                            <th>카테고리</th>
                            <th>판매량</th>
                            <th>매출액</th>
                            <th>평점</th>
                        </tr>
                    </thead>
                    <tbody id="top-products-body">
                        <!-- 인기 상품 목록 -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 영상 등록 섹션 -->
        <section id="section-videos-admin" class="admin-section-content">
            <div class="admin-section glass-card">
                <h2><i class="fas fa-video"></i> 영상 등록</h2>
                <p style="color: var(--text-muted); margin-bottom: 20px;">
                    YouTube URL을 입력하여 영상을 등록할 수 있습니다.
                </p>
                <div class="admin-form">
                    <div class="admin-form-row">
                        <input type="text" id="admin-video-url-standalone" placeholder="YouTube URL (예: https://www.youtube.com/watch?v=VIDEO_ID)" style="flex: 2;">
                        <input type="text" id="admin-video-title-standalone" placeholder="영상 제목" style="flex: 1;">
                        <button class="btn-primary" id="btn-add-video-standalone">영상 추가</button>
                    </div>
                </div>
                <div class="admin-table-wrapper" style="margin-top: 20px;">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>제목</th>
                                <th>YouTube ID</th>
                                <th>미리보기</th>
                                <th>작업</th>
                            </tr>
                        </thead>
                        <tbody id="video-table-body-standalone"></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- 음원 등록 섹션 -->
        <section id="section-music-admin" class="admin-section-content">
            <div class="admin-section glass-card">
                <h2><i class="fas fa-music"></i> 음원 등록</h2>
                <p style="color: var(--text-muted); margin-bottom: 20px;">
                    음원 파일을 업로드하여 등록할 수 있습니다. (MP3, WAV, OGG 형식 지원)
                </p>
                <div class="admin-form">
                    <div class="admin-form-row">
                        <input type="text" id="admin-music-title-standalone" placeholder="곡 제목" style="flex: 1;">
                        <input type="file" id="admin-music-file-standalone" accept="audio/*" style="flex: 1;">
                        <button class="btn-primary" id="btn-add-music-standalone">음원 추가</button>
                    </div>
                </div>
                <div class="admin-table-wrapper" style="margin-top: 20px;">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>곡 제목</th>
                                <th>파일명</th>
                                <th>재생</th>
                                <th>작업</th>
                            </tr>
                        </thead>
                        <tbody id="music-table-body-standalone"></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- 응원 메시지 관리 섹션 -->
        <section id="section-posts-admin" class="admin-section-content">
            <div class="admin-section glass-card">
                <h2><i class="fas fa-comments"></i> 응원 메시지 관리</h2>
                <p style="color: var(--text-muted); margin-bottom: 20px;">
                    응원 메시지를 승인하거나 삭제할 수 있습니다.
                </p>
                <div class="admin-toolbar" style="margin-bottom: 20px;">
                    <select class="admin-filter" id="post-status-filter">
                        <option value="all">전체</option>
                        <option value="approved">승인됨</option>
                        <option value="pending">대기중</option>
                    </select>
                    <input type="text" class="admin-search" id="post-search" placeholder="작성자 또는 내용으로 검색...">
                </div>
                <div class="admin-table-wrapper">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>작성자</th>
                                <th>내용</th>
                                <th>좋아요</th>
                                <th>댓글 수</th>
                                <th>작성일</th>
                                <th>상태</th>
                                <th>작업</th>
                            </tr>
                        </thead>
                        <tbody id="post-table-body-standalone"></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- 콘텐츠 관리 섹션 (기존 기능들) -->
        <section id="section-content" class="admin-section-content">
            <!-- 로고 관리 -->
            <div class="admin-section glass-card">
                <h2><i class="fas fa-image"></i> 로고 관리</h2>
                <div class="admin-form">
                    <div>
                        <label style="display: block; margin-bottom: 10px;">현재 로고:</label>
                        <img id="current-logo-preview" src="https://via.placeholder.com/200/302b63/ffffff?text=No+Logo" 
                             alt="Current Logo" class="image-preview" style="max-width: 200px;">
                    </div>
                    <div style="margin-top: 20px;">
                        <input type="file" id="admin-logo-input" accept="image/jpeg,image/png,image/jpg,image/svg+xml" style="margin-bottom: 10px;">
                        <div>
                            <button class="btn-primary" id="btn-upload-logo">로고 업로드</button>
                            <button class="btn-danger btn-small" id="btn-remove-logo">로고 삭제</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 영상 관리 -->
            <div class="admin-section glass-card">
                <h2><i class="fas fa-video"></i> 영상 관리</h2>
                <div class="admin-form">
                    <div class="admin-form-row">
                        <input type="text" id="admin-video-url" placeholder="YouTube URL" style="flex: 2;">
                        <input type="text" id="admin-video-title" placeholder="영상 제목" style="flex: 1;">
                        <button class="btn-primary" id="btn-add-video">영상 추가</button>
                    </div>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>제목</th>
                            <th>YouTube ID</th>
                            <th>미리보기</th>
                            <th>작업</th>
                        </tr>
                    </thead>
                    <tbody id="video-table-body"></tbody>
                </table>
            </div>

            <!-- 음원 관리 -->
            <div class="admin-section glass-card">
                <h2><i class="fas fa-music"></i> 음원 관리</h2>
                <div class="admin-form">
                    <div class="admin-form-row">
                        <input type="text" id="admin-music-title" placeholder="곡 제목">
                        <input type="file" id="admin-music-file" accept="audio/*" style="flex: 1;">
                        <button class="btn-primary" id="btn-add-music">음원 추가</button>
                    </div>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>곡 제목</th>
                            <th>파일명</th>
                            <th>작업</th>
                        </tr>
                    </thead>
                    <tbody id="music-table-body"></tbody>
                </table>
            </div>

            <!-- 응원 메시지 관리 -->
            <div class="admin-section glass-card">
                <h2><i class="fas fa-comments"></i> 응원 메시지 관리</h2>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>작성자</th>
                            <th>내용</th>
                            <th>좋아요</th>
                            <th>댓글 수</th>
                            <th>작성일</th>
                            <th>작업</th>
                        </tr>
                    </thead>
                    <tbody id="post-table-body"></tbody>
                </table>
            </div>
        </section>
    </main>

    <!-- 주문 상세 모달 -->
    <div class="admin-modal" id="order-detail-modal">
        <div class="admin-modal-content">
            <div class="admin-modal-header">
                <h3 class="admin-modal-title">주문 상세 정보</h3>
                <button class="admin-modal-close" onclick="closeModal('order-detail-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="order-detail-content">
                <!-- 주문 상세 내용이 여기에 표시됨 -->
            </div>
        </div>
    </div>

    <!-- 상품 추가/수정 모달 -->
    <div class="admin-modal" id="product-modal">
        <div class="admin-modal-content product-modal-enhanced">
            <div class="admin-modal-header">
                <h3 class="admin-modal-title" id="product-modal-title">상품 추가</h3>
                <button class="admin-modal-close" onclick="closeModal('product-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="admin-form product-form-enhanced">
                <!-- 1. 상품명 (필수) -->
                <div class="form-group">
                    <label class="form-label">
                        <span class="required-badge">필수</span>
                        상품명
                        <span class="field-hint" title="최대 100자, 특수문자 사용 가능"><i class="fas fa-info-circle"></i></span>
                    </label>
                    <input type="text" id="modal-product-name" class="form-input" placeholder="상품명을 입력하세요 (예: BTS 정국 포토카드)" maxlength="100" required>
                    <span class="error-message" id="error-product-name"></span>
                    <span class="char-counter"><span id="name-char-count">0</span>/100</span>
                </div>

                <!-- 2. 카테고리 (필수) -->
                <div class="form-group">
                    <label class="form-label">
                        <span class="required-badge">필수</span>
                        카테고리
                        <button type="button" class="btn-add-category" id="btn-add-new-category" title="새 카테고리 추가">
                            <i class="fas fa-plus-circle"></i>
                        </button>
                    </label>
                    <select id="modal-product-category" class="form-input" required>
                        <option value="">카테고리를 선택하세요</option>
                    </select>
                    <span class="error-message" id="error-product-category"></span>
                </div>

                <!-- 3. 가격 (필수) -->
                <div class="form-group">
                    <label class="form-label">
                        <span class="required-badge">필수</span>
                        가격
                        <span class="field-hint" title="₩ 기호 자동 추가, 천 단위 구분"><i class="fas fa-info-circle"></i></span>
                    </label>
                    <div class="input-with-prefix">
                        <span class="input-prefix">₩</span>
                        <input type="number" id="modal-product-price" class="form-input with-prefix" placeholder="0" min="0" step="100" required>
                    </div>
                    <span class="error-message" id="error-product-price"></span>
                    <span class="field-info">판매 가격을 입력하세요 (최소 100원)</span>
                </div>

                <!-- 4. 재고 수량 & 판매 상태 (필수) -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">
                            <span class="required-badge">필수</span>
                            재고 수량
                            <span class="field-hint" title="0 입력 시 품절 처리"><i class="fas fa-info-circle"></i></span>
                        </label>
                        <input type="number" id="modal-product-stock" class="form-input" placeholder="0" min="0" required>
                        <span class="error-message" id="error-product-stock"></span>
                        <span class="stock-warning" id="stock-warning"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span class="optional-badge">선택</span>
                            판매 상태
                        </label>
                        <div class="status-selector">
                            <select id="modal-product-sale-status" class="form-input">
                                <option value="active">판매중</option>
                                <option value="paused">일시중지</option>
                                <option value="soldout">품절</option>
                            </select>
                        </div>
                        <span class="field-info" id="sale-status-info">재고에 따라 자동 조정됩니다</span>
                    </div>
                </div>

                <!-- 5. 상품 설명 (필수) -->
                <div class="form-group">
                    <label class="form-label">
                        <span class="required-badge">필수</span>
                        상품 설명
                        <span class="field-hint" title="최소 10자 이상, HTML 태그 불가"><i class="fas fa-info-circle"></i></span>
                    </label>
                    <textarea id="modal-product-description" class="form-input form-textarea" placeholder="상품에 대한 상세한 설명을 입력하세요&#10;&#10;- 상품의 특징&#10;- 사이즈 및 재질&#10;- 배송 정보 등" rows="5" required></textarea>
                    <span class="error-message" id="error-product-description"></span>
                    <span class="char-counter"><span id="desc-char-count">0</span> 자 (최소 10자)</span>
                </div>

                <!-- 6. 이미지 업로드 (필수) -->
                <div class="form-group">
                    <label class="form-label">
                        <span class="required-badge" id="image-required-badge">필수</span>
                        상품 이미지
                        <span class="field-hint" title="권장 크기: 800x800px 이상, JPG/PNG, 최대 5MB"><i class="fas fa-info-circle"></i></span>
                    </label>
                    <div class="image-upload-enhanced" id="image-upload-area">
                        <i class="fas fa-cloud-upload-alt upload-icon"></i>
                        <p class="upload-text">클릭하거나 드래그하여 이미지 업로드</p>
                        <p class="upload-hint">권장: 800×800px 이상 | JPG, PNG | 최대 5MB</p>
                    </div>
                    <input type="file" id="modal-product-image" accept="image/jpeg,image/png,image/jpg" style="display: none;">
                    <div id="modal-product-image-preview" class="image-preview-container"></div>
                    <span class="error-message" id="error-product-image"></span>
                </div>

                <!-- 7. 추가 옵션 (선택 사항 - 접을 수 있음) -->
                <div class="form-group collapsible-section" id="advanced-options">
                    <button type="button" class="collapsible-toggle" id="toggle-advanced">
                        <i class="fas fa-chevron-right"></i>
                        <span>고급 옵션 (선택사항)</span>
                    </button>
                    <div class="collapsible-content" id="advanced-options-content">
                        <div class="form-group">
                            <label class="form-label">
                                <span class="optional-badge">선택</span>
                                상품 태그
                            </label>
                            <input type="text" id="modal-product-tags" class="form-input" placeholder="태그를 입력하세요 (쉼표로 구분)">
                            <span class="field-info">예: 한정판, 신상품, 인기상품</span>
                        </div>
                    </div>
                </div>

                <!-- 임시 저장 알림 -->
                <div class="draft-indicator" id="draft-indicator" style="display: none;">
                    <i class="fas fa-save"></i>
                    <span id="draft-text">임시 저장됨</span>
                </div>

                <!-- 버튼 영역 -->
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="btn-preview-product">
                        <i class="fas fa-eye"></i> 미리보기
                    </button>
                    <button type="button" class="btn-secondary" id="btn-restore-draft" style="display: none;">
                        <i class="fas fa-history"></i> 임시 저장 복원
                    </button>
                    <div class="action-buttons-right">
                        <button type="button" class="btn-danger" onclick="confirmCloseModal('product-modal')">
                            <i class="fas fa-times"></i> 취소
                        </button>
                        <button type="button" class="btn-primary" id="btn-save-product">
                            <i class="fas fa-save"></i> <span id="save-btn-text">저장</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="utils.js"></script>
    <script src="admin.js"></script>
    <script src="admin-dashboard.js"></script>
    <script src="admin-product-enhancements.js"></script>
</body>
</html>
